for(mastenode masternodes){ current_score masternode.calculatescore(); if(current_score best_score){ best_score current_score; winning_node masternode; cmasternode::calculatescore(){ pow_hash getproofofworkhash(nblockheight); get the hash this block pow_hash_hash hash(pow_hash); //hash the pow hash increase the entropy difference abs(pow_hash_hash masternode_vin); return difference;